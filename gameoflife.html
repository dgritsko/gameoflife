<!DOCTYPE html>
<html>
<head>

<title>Game of Life</title>

<script type="text/javascript">
var canvas;
var ctx;
var spaces;

function init() {
   canvas = document.getElementById('canvas');
   ctx = canvas.getContext('2d');
 
   var w = canvas.width / 10;
   var h = canvas.width / 10;   
    
   spaces = [];
   for (var i = 0; i < w; i++) {
      spaces[i] = [];
	  for (var j = 0; j < h; j++) {
	     spaces[i][j] = 0;
	  }
   }
   
   spaces[1][3] = 1;
   spaces[2][3] = 1;
   spaces[3][3] = 1;
   spaces[3][2] = 1;
   spaces[2][1] = 1;

   
   window.setInterval(draw, 100);
}

function draw() {
   ctx.clearRect(0, 0, canvas.width, canvas.height);
   
   var w = canvas.width/50;
   var h = canvas.height/50;
   
   var newSpaces = [];
   
   for (var i = 0, len = spaces.length; i < len; i++) {
      newSpaces[i] = [];
      for (var j = 0, len2 = spaces[i].length; j < len2; j++) {

	     var neighbors = 0;
		 
		 // Top Left
		 neighbors += (i > 0 && j > 0 && spaces[i - 1][j - 1]) ? 1 : 0;
		 // Left
		 neighbors += (i > 0 && spaces[i - 1][j]) ? 1 : 0;
		 // Bottom Left
		 neighbors += (i > 0 && j < (len2 - 1) && spaces[i - 1][j + 1]) ? 1 : 0;
		 // Bottom
		 neighbors += (j < (len2 - 1) && spaces[i][j + 1]) ? 1 : 0;
		 // Bottom Right
		 neighbors += (i < (len - 1) && j < (len2 - 1) && spaces[i + 1][j + 1]) ? 1 : 0;
		 // Right
		 neighbors += (i < (len - 1) && spaces[i + 1][j]) ? 1 : 0;
		 // Top Right
		 neighbors += (i < (len - 1) && j > 0 && spaces[i + 1][j - 1]) ? 1 : 0;
		 // Top
		 neighbors += (j > 0 && spaces[i][j - 1]) ? 1 : 0;
 
		 if (spaces[i][j]) {
		    if (neighbors <= 1) {
			   newSpaces[i][j] = 0;
			}
			else if (neighbors == 2 || neighbors == 3) {
			   newSpaces[i][j] = 1;
			}
			else if (neighbors >= 4) {
				newSpaces[i][j] = 0;
			}			
		 }
		 else if (neighbors == 3) {
			newSpaces[i][j] = 1;
		 }
		 else {
		    newSpaces[i][j] = 0;
		 }		 
	  }
   }

   spaces = newSpaces;
   
   for (var i = 0, len = spaces.length; i < len; i++) {
      for (var j = 0, len2 = spaces[i].length; j < len2; j++) {
		 if (spaces[i][j]) {
		    ctx.fillRect(i * w, j * h, w, h);
		 }
	  }
   }
}
</script>

</head>
<body onload="init()">

<canvas width="500" height="500" id="canvas" style="border: 1px solid black;"></canvas>

</body>
</html>